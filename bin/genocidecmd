#!/usr/bin/env python3
# This file is placed in the Public Domain.


"bot command"


import sys


import op.obj


op.obj.workdir = "/var/lib/botd/"


from op.run import Config


Config.name = "bot"
Config.threaded = False
Config.version = "83"


from op.obj import keys
from op.run import CLI, Table, parse_cli


from genocide import bsc, fnd, irc, log, mdl, rss, sts, tdo


Table.add(bsc)
Table.add(fnd)
Table.add(irc)
Table.add(log)
Table.add(mdl)
Table.add(rss)
Table.add(sts)
Table.add(tdo)


allmod =  ",".join(keys(Table.mod))


class CLI(CLI):

    def raw(self, txt):
        print(txt)
        sys.stdout.flush()


def main():
    parse_cli(" ".join(sys.argv[1:]))
    Table.scan()
    c = CLI()
    return c.cmd(" ".join(sys.argv[1:]))


main()
