#!/usr/bin/env python3
# This file is placed in the Public Domain.


"bot command"


import sys


from genocide.obj import Wd, keys
from genocide.hdl import Client, Cfg, Command, Commands, parse, scan


Cfg.name = "genocide"
Wd.workdir = "/var/lib/genocide/"


from genocide import bsc, fnd, irc, log, mdl, rss, sts, tdo


scan(bsc)
scan(fnd)
scan(irc)
scan(log)
scan(mdl)
scan(rss)
scan(sts)
scan(tdo)


class CLI(Client):

    def cmd(self, txt):
        cmd = Command()
        cmd.channel = ""
        cmd.orig = repr(self)
        cmd.txt = txt
        self.handle(cmd)
        cmd.wait()

    def raw(self, txt):
        print(txt)


def main():
    parse(" ".join(sys.argv[1:]))
    cli = CLI()
    return cli.cmd(Cfg.txt)


main()
